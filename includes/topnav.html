<?php
/**
 * Park Community School - Navigation Header
 * This file contains the standardized top navigation for all pages
 */
?>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R6L1Z5CKDS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-R6L1Z5CKDS');
</script>
<!-- End Google Analytics -->

<!-- Add Aptos Body font -->
<style>
/* Add Aptos Body font-face declarations */
@font-face {
  font-family: 'Aptos Body';
  src: url('https://c.s-microsoft.com/static/fonts/aptos/AptosBody-Regular.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Aptos Body';
  src: url('https://c.s-microsoft.com/static/fonts/aptos/AptosBody-Bold.woff2') format('woff2');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}
</style>

<div class="sticky contain-to-grid">
    <nav class="top-bar" data-topbar role="navigation">
        <ul class="title-area">
            <li class="name">
                <h1>
                    <a href="index.php">
                        <img class="brand" src="images/park-logo.png" alt="Park Community School">
                    </a>
                </h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
        </ul>
        
        <section class="top-bar-section">
            <ul class="right">
                <!-- School Dropdown -->
                <li class="custom-dropdown">
                    <a class="top-nav-school">School</a>
                    <div class="custom-dropdown-menu">
                        <a href="/catering.php">Catering</a>
                        <a href="/events.php">Events</a>
                        <a href="/park-get-into-teaching.php">Get into Teaching</a>
                        <a href="/governors.php">Governors</a>
                        <a href="/news.php">News</a>
                        <a href="/policies.php">Policies</a>
                        <a href="/assets/prospectus.pdf" target="_blank">Prospectus</a>
                        <a href="/studentrecruitment.php">Student Recruitment</a>
                        <a href="/employment.php">Vacancies</a>
                    </div>
                </li>

                <!-- Safeguarding Link -->
                <li><a class="top-nav-school" href="/safeguarding.php">Safeguarding</a></li>

                <!-- Learning Dropdown -->
                <li class="custom-dropdown">
                    <a class="top-nav-learning">Learning</a>
                    <div class="custom-dropdown-menu">
                        <a href="/curriculum.php">Curriculum</a>
                        <a href="assets/curriculum/FWYL - April 2025.pdf">Extra-Curricular Clubs</a>
                        <a href="/finance-education.php">Financial Education</a>
                        <a href="/reading.php">Reading</a>
                    </div>
                </li>

                <!-- Parent Dropdown -->
                <li class="custom-dropdown">
                    <a class="top-nav-parent">Parent</a>
                    <div class="custom-dropdown-menu">
                        <a href="/admissions.php">Admissions</a>
                        <a href="/time-tabling.php">Calendar & School Day</a>
                        <a href="/havant-federation-statements.php">Federation Statements</a>
                        <a href="/forms.php">Forms</a>
                        <a href="/letters-home.php">Letters & Newsletters</a>
                        <a href="/ofsted-reports.php">Ofsted Reports</a>
                        <a href="/trips.php">Trips</a>
                        <a href="/uniform.php">Uniform</a>
                        <!--<a href="/parent-advice.php">Parent Advice</a>-->
                        <!--<a href="https://www.safe4me.co.uk/parents/" target="_blank">Safe4Me</a>-->
                        <!--<a href="assets/thinkuknow.pdf" target="_blank">ThinkUKnow</a>-->
                        <!--<a href="/parent-partnership.php">Parent Partnership</a>-->
                        <!--<a href="/glossary.php">Glossary of Terms</a>-->
                    </div>
                </li>

                <!-- Misc Dropdown -->
                <li class="custom-dropdown">
                    <a class="top-nav-misc">Much More</a>
                    <div class="custom-dropdown-menu">
                        <a href="/assets/annual-review-2020-2021.pdf" target="_blank">Annual Review</a>
                        <a href="/community-services.php">Community & Services</a>
                        <a href="/Connect4Families.php">Connect4Families</a>
                        <a href="/dickinson-centre.php">Dickinson Centre</a>
                        <a href="/greenpower.php">Greenpower</a>
                        <a href="/garden.php">Horticulture Garden</a>
                        <a href="/munch.php">MUNCH</a>
                        <a href="/theatre.php">Park Community Theatre</a>
                    </div>
                </li>

                <!-- Statutory Link -->
                <li><a class="top-nav-statutory" href="/statutory.php">Statutory</a></li>

                <!-- School Portal Link -->
                <li><a class="top-nav-portal" href="/school-portal.php">School Portal</a></li>
            </ul>
        </section>
    </nav>
</div>

<!-- Add JavaScript to handle custom dropdown behavior -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get all custom dropdown elements
    var dropdowns = document.querySelectorAll('.custom-dropdown');
    
    // Add event listeners to each dropdown
    dropdowns.forEach(function(dropdown) {
        dropdown.addEventListener('mouseenter', function() {
            this.classList.add('open');
        });
        
        dropdown.addEventListener('mouseleave', function() {
            this.classList.remove('open');
        });
    });
});
</script>

<!-- CSS for custom navigation and dropdown -->
<style>
    /* Make the navigation bar larger */
    .top-bar {
        padding: 0 40px; /* Reduce vertical padding to keep logo contained */
        font-size: 16px; /* Reduced from 18px to 16px */
        height: 80px; /* Set to a suitable height that fits the logo */
        display: flex;
        align-items: center; /* Vertically center all elements */
        background-color: #333; /* Ensure the background is dark */
        position: relative; /* Important for dropdown positioning */
        z-index: 100; /* Ensure the navbar has a z-index */
        font-family: 'Aptos Body', 'Open Sans', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    .top-bar .title-area {
        margin-bottom: 0;
        display: flex;
        align-items: center; /* Vertically center the logo */
        justify-content: flex-start; /* Align logo to the left */
        padding-right: 30px; /* Add some space between logo and nav items */
        height: 100%; /* Full height of the navbar */
    }

    .top-bar .name h1 {
        font-size: 28px; /* Increase logo font size */
        display: flex;
        align-items: center; /* Vertically align logo */
        margin: 0; /* Remove any default margins */
        height: 100%; /* Full height */
    }

    .top-bar .name h1 a {
        display: flex;
        align-items: center; /* Align logo */
        padding: 0; /* Remove any padding that might constrain the logo */
        height: 100%; /* Full height */
    }

    .top-bar .name h1 .brand {
        max-height: 70px; /* Set a size that fits within the navbar */
        width: auto; /* Maintain aspect ratio of the logo */
        margin-right: 0; /* Remove margin since we removed the text */
    }

    .top-bar .menu-icon a {
        font-size: 16px; /* Reduce from 18px to 16px */
    }

    /* New custom dropdown styling */
    .top-bar-section {
        display: flex;
        align-items: center;
        height: 100%;
        flex-grow: 1;
    }

    .top-bar-section ul {
        height: 100%;
        display: flex;
        align-items: center;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .top-bar-section ul.right {
        margin-left: auto; /* Push the navigation items to the right */
    }

    .top-bar-section ul li {
        height: 100%;
        display: flex;
        align-items: center;
        position: relative;
    }

    .top-bar-section ul li a {
        display: flex;
        align-items: center;
        height: 100%;
        padding: 0 18px; /* Increased for better spacing */
        color: white;
        text-decoration: none;
        font-size: 16px; /* Reduced from 18px to 16px */
        background-color: #333;
        font-weight: 400; /* Using a slightly lighter font weight */
        letter-spacing: 0.01em; /* Slight letter spacing for better readability */
        font-family: 'Aptos Body', 'Open Sans', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        white-space: nowrap; /* Prevent text wrapping */
    }

    .top-bar-section ul li a:hover {
        background-color: #444;
    }

    /* Custom dropdown styling */
    .custom-dropdown {
        position: relative;
        height: 100%;
    }

    .custom-dropdown > a {
        position: relative;
        padding-right: 32px !important; /* Increased for better spacing */
    }

    .custom-dropdown > a:after {
        content: "";
        display: block;
        width: 0;
        height: 0;
        border: 4px solid transparent; /* Reduced from 5px to 4px */
        border-top-color: white;
        position: absolute;
        right: 12px; /* Reduced from 15px to 12px */
        top: 50%;
        margin-top: -2px;
    }

    .custom-dropdown-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #333;
        min-width: 200px;
        box-shadow: 0 6px 12px rgba(0,0,0,0.175);
        z-index: 1000;
        padding: 0;
        margin: 0;
        font-family: 'Aptos Body', 'Open Sans', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .custom-dropdown.open .custom-dropdown-menu {
        display: block;
    }

    .custom-dropdown-menu a {
        display: block;
        padding: 8px 16px; /* Reduced from 10px 20px to 8px 16px */
        color: white;
        text-decoration: none;
        font-size: 14px; /* Reduced from 16px to 14px */
        background-color: #333;
        width: 100%;
        text-align: left;
        font-family: 'Aptos Body', 'Open Sans', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    .custom-dropdown-menu a:hover {
        background-color: #444;
    }

    /* For mobile view */
    @media (max-width: 768px) {
        .top-bar {
            padding: 0 30px;
            height: 70px;
        }
        
        .top-bar .name h1 .brand {
            max-height: 55px;
        }
        
        .custom-dropdown-menu {
            width: 100%;
            position: static;
            display: none;
        }
        
        .custom-dropdown.open .custom-dropdown-menu {
            display: block;
        }
        
        .top-bar-section ul {
            flex-direction: column;
            width: 100%;
        }
        
        .top-bar-section ul li {
            width: 100%;
        }
    }
</style>